{"version":3,"sources":["../static/js/1.f20b6978.chunk.js","routes/UserInfo/model/index.js","utils/pageHelper/PageInfo.js","utils/pageHelper/index.js","utils/modelEnhance.js"],"names":["webpackJsonp","324","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__utils_modelEnhance__","__WEBPACK_IMPORTED_MODULE_1__utils_pageHelper__","namespace","state","info","pageData","create","effects","reducers","326","_classCallCheck","instance","Constructor","TypeError","d","PageInfo","__WEBPACK_IMPORTED_MODULE_0_cmn_utils__","__WEBPACK_IMPORTED_MODULE_0_cmn_utils___default","n","__WEBPACK_IMPORTED_MODULE_1__index__","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","this","pageNum","pageSize","size","total","totalPages","list","filters","sorts","reasonable","arguments","undefined","q","merge","a","isObject","assign","url","options","self","data","isFunction","requestFormat","send","then","resp","responseFormat","newPageInfo","327","PageHelper","_class","_temp","__WEBPACK_IMPORTED_MODULE_0__PageInfo__","__WEBPACK_IMPORTED_MODULE_1__config__","pageInfo","pageHelper","335","_defineProperty","obj","_objectWithoutProperties","keys","indexOf","hasOwnProperty","call","_asyncToGenerator","fn","gen","apply","Promise","resolve","reject","step","arg","error","done","err","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default","__WEBPACK_IMPORTED_MODULE_1_cmn_utils__","__WEBPACK_IMPORTED_MODULE_1_cmn_utils___default","__WEBPACK_IMPORTED_MODULE_2__pageHelper_PageInfo__","__WEBPACK_IMPORTED_MODULE_3__config__","asyncRequest","_ref","mark","_callee","payload","other","wrap","_context","prev","next","Error","abrupt","stop","_x","simpleModel","randomStr","enhance","model","_Object$assign2","_simpleModel$model","subscriptions","_callee2","_ref2","_ref3","_payloads","resultState","_payloads$i","valueField","notice","otherPayload","response","success","put","_context2","push","isArray","sent","request","checkResponse","type","_ref4","_ref5"],"mappings":"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","file":"static/js/1.f20b6978.chunk.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 324:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_modelEnhance__ = __webpack_require__(335);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_pageHelper__ = __webpack_require__(327);\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(__WEBPACK_IMPORTED_MODULE_0__utils_modelEnhance__[\"a\" /* default */])({namespace:'userInfo',state:{info:{},pageData:__WEBPACK_IMPORTED_MODULE_1__utils_pageHelper__[\"a\" /* default */].create()},effects:{},reducers:{}}));\n\n/***/ }),\n\n/***/ 326:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return PageInfo; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_cmn_utils__ = __webpack_require__(52);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_cmn_utils___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_cmn_utils__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__index__ = __webpack_require__(327);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}/**\n * 分页对象\n */var PageInfo=function(){function PageInfo(){_classCallCheck(this,PageInfo);this.pageNum=1;this.pageSize=10;this.size=0;this.total=0;this.totalPages=0;this.list=[];this.filters={};this.sorts={};this.reasonable=false;}// 页码，从1开始\n// 每页数量\n// 当前页的数量\n// 总记录数\n// 总页数\n// 结果集\n// 过滤条件 {name: 'jonn'}\n// 排序条件 {name: 'asc', age: 'desc'}\n/**\n   * 希望用户输入的页数不在合法范围（第一页到最后一页之外）\n   * 时能够正确的响应到正确的结果页面，那么你可以配置reasonable为true，\n   * 这时如果pageNum<1,会查询第一页，如果pageNum>总页数,会查询最后一页\n   */_createClass(PageInfo,[{key:'startPage',/**\n   * 组装分页信息\n   * @param {number} pageNum page number, default 1\n   * @param {number} pageSize page size, default 10\n   */value:function startPage(){var pageNum=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var pageSize=arguments.length>1&&arguments[1]!==undefined?arguments[1]:10;this.pageNum=pageNum;this.pageSize=pageSize;return this;}/**\n   * 组装分页信息\n   * @param {number} pageNum page number\n   * @param {number} pageSize page size\n   */},{key:'jumpPage',value:function jumpPage(pageNum,pageSize){if(pageNum&&pageNum<=this.totalPages){this.pageNum=pageNum;if(pageSize)this.pageSize=pageSize;}return this;}/**\n   * 拼接过滤条件\n   * @param {object} q 过滤条件 {name: 'jonn', sex: 1}\n   * @param {boolean} merge 是否将新条件与现有条件合并\n   */},{key:'filter',value:function filter(q,merge){if(__WEBPACK_IMPORTED_MODULE_0_cmn_utils___default.a.isObject(q)){if(merge){this.filters=Object.assign({},this.filters,q);}else{this.filters=q;}}return this;}/**\n   * 拼接排序条件\n   * @param {object} q 排序字段 {name: 'asc', age: 'desc'}\n   */},{key:'sortBy',value:function sortBy(q){if(__WEBPACK_IMPORTED_MODULE_0_cmn_utils___default.a.isObject(q)){this.sorts=q;}return this;}/**\n   * 下一页或指定页数\n   * @param {number} pageNum \n   */},{key:'nextPage',value:function nextPage(pageNum){if(this.totalPages!==-1){if(pageNum&&pageNum<=this.totalPages){this.pageNum=pageNum;}else if(this.pageNum+1<=this.totalPages){this.pageNum++;}}else{this.pageNum=this.totalPages;}return this;}/**\n   * 上一页\n   */},{key:'prevPage',value:function prevPage(){if(this.totalPages!==-1){if(this.pageNum-1>0){this.pageNum--;}}else{this.pageNum=1;}return this;}},{key:'send',value:function send(url,options){var self=this;var pageNum=this.pageNum,pageSize=this.pageSize,filters=this.filters,sorts=this.sorts;var data={pageNum:pageNum,pageSize:pageSize,filters:filters,sorts:sorts};if(__WEBPACK_IMPORTED_MODULE_0_cmn_utils___default.a.isFunction(__WEBPACK_IMPORTED_MODULE_1__index__[\"a\" /* default */].requestFormat)){data=__WEBPACK_IMPORTED_MODULE_1__index__[\"a\" /* default */].requestFormat(this);}return __WEBPACK_IMPORTED_MODULE_0_cmn_utils___default.a.send(url,Object.assign({data:data},options)).then(function(resp){if(__WEBPACK_IMPORTED_MODULE_0_cmn_utils___default.a.isFunction(__WEBPACK_IMPORTED_MODULE_1__index__[\"a\" /* default */].responseFormat)){var newPageInfo=__WEBPACK_IMPORTED_MODULE_1__index__[\"a\" /* default */].responseFormat(resp);return Object.assign(self,newPageInfo);}});}}]);return PageInfo;}();\n\n/***/ }),\n\n/***/ 327:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return PageHelper; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__PageInfo__ = __webpack_require__(326);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__config__ = __webpack_require__(142);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _class,_temp;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}/**\n * 通用分页助手\n */var PageHelper=(_temp=_class=function(){function PageHelper(){_classCallCheck(this,PageHelper);}_createClass(PageHelper,null,[{key:'requestFormat',/**\n   * 可以通过设置这个函数，格式化发送到后端的参数\n   * \n   * 例如后端分页接口需要的参数是\n   * {\n   *    currentPage: 1, \n   *    showCount: 10, \n   *    paramMap: {name: 'jonn'}\n   * }\n   * 可以通过设置这个参数格式化分页信息\n   * 例如：\n   * pageHelper.requestFormat(({pageNum, pageSize}) => ({\n   *  currentPage: pageNum,\n   *  showCount: pageSize\n   * }))\n  */value:function requestFormat(pageInfo){return __WEBPACK_IMPORTED_MODULE_1__config__[\"a\" /* default */].pageHelper.requestFormat(pageInfo);}},{key:'responseFormat',/**\n   * 格式化从服务端反回的数据，并置入PageInfo对象中，\n   * 为下次分页做准备\n   * 页码 pageNum;\n     每页数量 pageSize;\n     当前页的数量 size;\n     总记录数 total;\n     总页数 totalPages;\n     结果集 list;\n   * @param {object} resp \n  */value:function responseFormat(resp){return __WEBPACK_IMPORTED_MODULE_1__config__[\"a\" /* default */].pageHelper.responseFormat(resp);}}]);return PageHelper;}(),_class.create=function(){var pageInfo=new __WEBPACK_IMPORTED_MODULE_0__PageInfo__[\"a\" /* default */]();return pageInfo;},_temp);\n\n/***/ }),\n\n/***/ 335:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export simpleModel */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__ = __webpack_require__(81);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_cmn_utils__ = __webpack_require__(52);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_cmn_utils___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_cmn_utils__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pageHelper_PageInfo__ = __webpack_require__(326);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__config__ = __webpack_require__(142);\nvar asyncRequest=function(){var _ref=_asyncToGenerator(/*#__PURE__*/__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee(payload){var url,pageInfo,other,options;return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(!payload||!payload.url)){_context.next=2;break;}throw new Error('payload require contains url opt');case 2:/**\n   * other中可以配置 method headers data 等参数\n   */url=payload.url,pageInfo=payload.pageInfo,other=_objectWithoutProperties(payload,['url','pageInfo']);options=Object.assign({},other);// 如果是分页查询\nif(!(pageInfo&&pageInfo instanceof __WEBPACK_IMPORTED_MODULE_2__pageHelper_PageInfo__[\"a\" /* default */])){_context.next=8;break;}return _context.abrupt('return',pageInfo.send(url,options));case 8:return _context.abrupt('return',__WEBPACK_IMPORTED_MODULE_1_cmn_utils__[\"request\"].send(url,options));case 9:case'end':return _context.stop();}}},_callee,this);}));return function asyncRequest(_x){return _ref.apply(this,arguments);};}();function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i];}return target;}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{return Promise.resolve(value).then(function(value){step(\"next\",value);},function(err){step(\"throw\",err);});}}return step(\"next\");});};}var REQUEST='@request';var REQUEST_SUCCESS='@request_success';var REQUEST_ERROR='@request_error';var simpleModel={namespace:__WEBPACK_IMPORTED_MODULE_1_cmn_utils___default.a.randomStr(4),enhance:true,state:{},effects:{},reducers:{}};/* harmony default export */ __webpack_exports__[\"a\"] = (function(model){var _Object$assign2;var _simpleModel$model=Object.assign({},simpleModel,model),namespace=_simpleModel$model.namespace,state=_simpleModel$model.state,subscriptions=_simpleModel$model.subscriptions,effects=_simpleModel$model.effects,reducers=_simpleModel$model.reducers,enhance=_simpleModel$model.enhance;if(!enhance){return{namespace:namespace,state:state,subscriptions:subscriptions,effects:effects,reducers:reducers};}return{namespace:namespace,state:state,subscriptions:subscriptions,effects:Object.assign({},effects,_defineProperty({},REQUEST,/*#__PURE__*/__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee2(_ref2,_ref3){var payload=_ref2.payload,success=_ref2.success,error=_ref2.error;var call=_ref3.call,put=_ref3.put;var _payloads,resultState,i,_payloads$i,valueField,notice,otherPayload,response;return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_payloads=[];if(__WEBPACK_IMPORTED_MODULE_1_cmn_utils___default.a.isObject(payload)){_payloads.push(payload);}else if(__WEBPACK_IMPORTED_MODULE_1_cmn_utils___default.a.isArray(payload)){_payloads=payload;};resultState={success:{},error:{}};i=0;case 5:if(!(i<_payloads.length)){_context2.next=14;break;}/**\n           * valueField: 返回结果将使用valueField字段的值来接收\n           */_payloads$i=_payloads[i],valueField=_payloads$i.valueField,notice=_payloads$i.notice,otherPayload=_objectWithoutProperties(_payloads$i,['valueField','notice']);_context2.next=9;return call(asyncRequest,otherPayload);case 9:response=_context2.sent;if(__WEBPACK_IMPORTED_MODULE_3__config__[\"a\" /* default */].request.checkResponse(response)){if(notice)__WEBPACK_IMPORTED_MODULE_3__config__[\"a\" /* default */].notice.success(notice===true?'操作成功':notice[0],'success');resultState.success[valueField||'_@fake_']=response;}else{if(notice)__WEBPACK_IMPORTED_MODULE_3__config__[\"a\" /* default */].notice.error(notice===true?'操作失败':notice[1],'error');resultState.error[valueField||'_@fake_']=response;}case 11:i++;_context2.next=5;break;case 14:// 可以用success得到成功回调\nif(Object.keys(resultState.error).length===0&&__WEBPACK_IMPORTED_MODULE_1_cmn_utils___default.a.isFunction(success)){success(resultState.success);}// 可以用error得到失败回调\nif(Object.keys(resultState.error).length!==0&&__WEBPACK_IMPORTED_MODULE_1_cmn_utils___default.a.isFunction(error)){error(resultState.error);}if(!Object.keys(resultState.success).length){_context2.next=19;break;}_context2.next=19;return put({type:REQUEST_SUCCESS,payload:resultState.success});case 19:if(!Object.keys(resultState.error).length){_context2.next=22;break;}_context2.next=22;return put({type:REQUEST_ERROR,payload:resultState.error});case 22:case'end':return _context2.stop();}}},_callee2,this);}))),reducers:Object.assign({},reducers,(_Object$assign2={},_defineProperty(_Object$assign2,REQUEST_SUCCESS,function(state,_ref4){var payload=_ref4.payload;return Object.assign({},state,payload);}),_defineProperty(_Object$assign2,REQUEST_ERROR,function(state,_ref5){var payload=_ref5.payload;return Object.assign({},state,payload);}),_Object$assign2))};});\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/1.f20b6978.chunk.js","import modelEnhance from '@/utils/modelEnhance';\nimport PageHelper from '@/utils/pageHelper';\n\nexport default modelEnhance({\n  namespace: 'userInfo',\n\n  state: {\n    info: {},\n    pageData: PageHelper.create()\n  },\n\n  effects: {\n\n  },\n\n  reducers: {\n    \n  },\n});\n\n\n// WEBPACK FOOTER //\n// ./src/routes/UserInfo/model/index.js","import $$ from 'cmn-utils';\nimport PageHelper from './index';\n/**\n * 分页对象\n */\nexport default class PageInfo {\n  // 页码，从1开始\n  pageNum = 1;\n\n  // 每页数量\n  pageSize = 10;\n\n  // 当前页的数量\n  size = 0;\n\n  // 总记录数\n  total = 0;\n\n  // 总页数\n  totalPages = 0;\n\n  // 结果集\n  list = [];\n\n  // 过滤条件 {name: 'jonn'}\n  filters = {};\n\n  // 排序条件 {name: 'asc', age: 'desc'}\n  sorts = {};\n\n  /**\n   * 希望用户输入的页数不在合法范围（第一页到最后一页之外）\n   * 时能够正确的响应到正确的结果页面，那么你可以配置reasonable为true，\n   * 这时如果pageNum<1,会查询第一页，如果pageNum>总页数,会查询最后一页\n   */\n  reasonable = false;\n\n  /**\n   * 组装分页信息\n   * @param {number} pageNum page number, default 1\n   * @param {number} pageSize page size, default 10\n   */\n  startPage(pageNum = 1, pageSize = 10) {\n    this.pageNum = pageNum;\n    this.pageSize = pageSize;\n    return this;\n  }\n\n  /**\n   * 组装分页信息\n   * @param {number} pageNum page number\n   * @param {number} pageSize page size\n   */\n  jumpPage(pageNum, pageSize) {\n    if (pageNum && pageNum <= this.totalPages) {\n      this.pageNum = pageNum;\n      if (pageSize) this.pageSize = pageSize;\n    }\n    return this;\n  }\n\n  /**\n   * 拼接过滤条件\n   * @param {object} q 过滤条件 {name: 'jonn', sex: 1}\n   * @param {boolean} merge 是否将新条件与现有条件合并\n   */\n  filter(q, merge) {\n    if ($$.isObject(q)) {\n      if (merge) {\n        this.filters = {...this.filters, ...q};\n      } else {\n        this.filters = q;\n      }\n    }\n    return this;\n  }\n\n  /**\n   * 拼接排序条件\n   * @param {object} q 排序字段 {name: 'asc', age: 'desc'}\n   */\n  sortBy(q) {\n    if ($$.isObject(q)) {\n      this.sorts = q;\n    }\n    return this;\n  }\n\n  /**\n   * 下一页或指定页数\n   * @param {number} pageNum \n   */\n  nextPage(pageNum) {\n    if (this.totalPages !== -1) {\n      if (pageNum && pageNum <= this.totalPages) {\n        this.pageNum = pageNum;\n      } else if (this.pageNum + 1 <= this.totalPages) {\n        this.pageNum ++;\n      }\n    } else {\n      this.pageNum = this.totalPages;\n    }\n    return this;\n  }\n\n  /**\n   * 上一页\n   */\n  prevPage() {\n    if (this.totalPages !== -1) {\n      if (this.pageNum - 1 > 0) {\n        this.pageNum --;\n      }\n    } else {\n      this.pageNum = 1;\n    }\n    return this;\n  }\n\n  send(url, options) {\n    const self = this;\n    const { pageNum, pageSize, filters, sorts } = this;\n    let data = { pageNum, pageSize, filters, sorts };\n\n    if ($$.isFunction(PageHelper.requestFormat)) {\n      data = PageHelper.requestFormat(this);\n    }\n    return $$.send(url, { data, ...options }).then(resp => {\n      if ($$.isFunction(PageHelper.responseFormat)) {\n        const newPageInfo = PageHelper.responseFormat(resp);\n        return Object.assign(self, newPageInfo);\n      }\n    })\n  }\n} \n\n\n// WEBPACK FOOTER //\n// ./src/utils/pageHelper/PageInfo.js","import PageInfo from './PageInfo';\nimport config from '@/config';\n\n/**\n * 通用分页助手\n */\nexport default class　PageHelper {\n  static create = () => {\n    const pageInfo = new PageInfo();\n    return pageInfo;\n  }\n\n  /**\n   * 可以通过设置这个函数，格式化发送到后端的参数\n   * \n   * 例如后端分页接口需要的参数是\n   * {\n   *    currentPage: 1, \n   *    showCount: 10, \n   *    paramMap: {name: 'jonn'}\n   * }\n   * 可以通过设置这个参数格式化分页信息\n   * 例如：\n   * pageHelper.requestFormat(({pageNum, pageSize}) => ({\n   *  currentPage: pageNum,\n   *  showCount: pageSize\n   * }))\n  */\n  static requestFormat(pageInfo) {\n    return config.pageHelper.requestFormat(pageInfo);\n  };\n   \n\n  /**\n   * 格式化从服务端反回的数据，并置入PageInfo对象中，\n   * 为下次分页做准备\n   * 页码 pageNum;\n     每页数量 pageSize;\n     当前页的数量 size;\n     总记录数 total;\n     总页数 totalPages;\n     结果集 list;\n   * @param {object} resp \n  */\n  static responseFormat(resp) {\n    return config.pageHelper.responseFormat(resp);\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/utils/pageHelper/index.js","import $$, {request} from 'cmn-utils';\nimport PageInfo from './pageHelper/PageInfo';\nimport config from '@/config';\n\nconst REQUEST = '@request';\nconst REQUEST_SUCCESS = '@request_success';\nconst REQUEST_ERROR = '@request_error';\n \nasync function asyncRequest(payload) {\n  if (!payload || !payload.url) throw(new Error('payload require contains url opt'));\n  /**\n   * other中可以配置 method headers data 等参数\n   */\n  const {url, pageInfo, ...other} = payload;\n  let options = {...other};\n\n  // 如果是分页查询\n  if (pageInfo && pageInfo instanceof PageInfo) {\n    return pageInfo.send(url, options);\n  } else {\n    return request.send(url, options);\n  }\n}\n\nexport const simpleModel = {\n  namespace: $$.randomStr(4),\n  enhance: true,\n  state: {},\n  effects: {},\n  reducers: {},\n};\n\nexport default (model) => {\n  const {namespace, state, subscriptions, effects, reducers, enhance} = {...simpleModel, ...model};\n\n  if (!enhance) {\n    return {namespace, state, subscriptions, effects, reducers};\n  }\n  return {\n    namespace,\n    state,\n    subscriptions,\n    effects: {\n      // get old effect\n      ...effects,\n      /**\n       * payload 如果传入数组形式的payload，会合并结果后调用一次渲染\n       * success 在dispatch结束后得到成功的回调\n       * error 在dispatch结束后得到失败的回调\n       */\n      * [REQUEST]({ payload, success, error }, { call, put }) {\n        let _payloads = [];\n        if ($$.isObject(payload)) {\n          _payloads.push(payload);\n        } else if ($$.isArray(payload)) {\n          _payloads = payload;\n        };\n\n        const resultState = {\n          success: {},\n          error: {}\n        };\n        for (let i = 0; i < _payloads.length; i++) {\n          /**\n           * valueField: 返回结果将使用valueField字段的值来接收\n           */\n          const {valueField, notice, ...otherPayload} = _payloads[i];\n\n          let response = yield call(asyncRequest, otherPayload);\n          \n          if (config.request.checkResponse(response)) {\n            if (notice) config.notice.success(notice === true ? '操作成功' : notice[0], 'success');\n            resultState.success[valueField || '_@fake_'] = response;\n          } else {\n            if (notice) config.notice.error(notice === true ? '操作失败' : notice[1], 'error');\n            resultState.error[valueField || '_@fake_'] = response;\n          }\n        }\n        // 可以用success得到成功回调\n        if (Object.keys(resultState.error).length === 0 && $$.isFunction(success)) {\n          success(resultState.success);\n        } \n        // 可以用error得到失败回调\n        if (Object.keys(resultState.error).length !== 0 && $$.isFunction(error)) {\n          error(resultState.error);\n        } \n\n        if (Object.keys(resultState.success).length) {\n          yield put({\n            type: REQUEST_SUCCESS,\n            payload: resultState.success\n          });\n        }\n        if (Object.keys(resultState.error).length) {\n          yield put({\n            type: REQUEST_ERROR,\n            payload: resultState.error\n          });\n        }\n      },\n    },\n  \n    reducers: {\n      // get old reducers\n      ...reducers,\n      // append new request reducers\n      [REQUEST_SUCCESS](state, { payload }) {\n        return {\n          ...state,\n          ...payload\n        };\n      },\n      [REQUEST_ERROR](state, { payload }) {\n        return {\n          ...state,\n          ...payload\n        };\n      },\n    },\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/utils/modelEnhance.js"],"sourceRoot":""}